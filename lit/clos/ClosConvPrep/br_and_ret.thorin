.import mem;
.import core;

.let i32 = %Int 4294967296;
.let i8 = %Int 256;
.let M = %mem.M;

.let ADD = %core.wrap.add (0, 4294967296);
.let MUL = %core.wrap.mul (0, 4294967296);
.let EQ = %core.icmp.e 4294967296;
.let LT = %core.icmp.sl 4294967296;

.cn .extern g [M, .Cn M];

.cn .extern f [m: M, c: %Int 2, ret: .Cn M] = {
    .cn if_else [m: M] = {
        ret m
    };
    .cn if_then [m: M] = {
        g (m, if_else)
    };
    (if_then, if_else)#c m
};

